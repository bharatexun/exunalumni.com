<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exun Alumni Network - Newsletters</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        loadNewsletters();
      });

      async function loadNewsletters() {
        try {
          const response = await fetch("/data/newsletters.json");
          const newsletters = await response.json();
          displayNewsletters(newsletters);
        } catch (error) {
          console.error("Error loading newsletters:", error);
        }
      }

      function displayNewsletters(newsletters) {
        const newsletterContainer = document.getElementById("newsletters");
        newsletterContainer.innerHTML = "";

        newsletters.forEach((newsletter) => {
          const div = document.createElement("div");
          div.className = "newsletter";

          div.innerHTML = `
            <p class="name">
              <a href="${newsletter.link}" target="_blank" title="Read ${newsletter.title}">
                ${newsletter.title}
              </a>
            </p>
            <span class="meta">${newsletter.date}</span>
            <span class="divider">|</span>
            <span class="meta">Issue ${newsletter.issue}</span>
          `;

          newsletterContainer.appendChild(div);
        });
      }
    </script>
  </head>
  <body>
    <h1 id="sticky-header">
      EXUN ALUMNI <br />
      NETWORK
    </h1>

    <img
      id="logo"
      src="https://newsletter.bharatk.in/uploads/Vector.svg"
      alt="Exun Alumni Network Logo"
    />
    <div id="navbar-placeholder"></div>
    <div id="main-content">
      <h2>Newsletters</h2>
      <p>
        A collection of all newsletters for the Exun Alumni Network. Catch up on the latest updates and stories from our community.
      </p>

      <div id="skeleton-container">
        <div class="skeleton-name skeleton"></div>
        <div class="skeleton-text skeleton"></div>
        <div class="skeleton-text skeleton"></div>
        <div class="skeleton-text skeleton"></div>
      </div>

      <div id="newsletters"></div>
    </div>
  </body>
</html>
